<app-navbar />


<div class="d-flex align-items-center justify-content-center vh-100">
    <div class="form_login contenido-despues-de-nav">
        <form [formGroup]="perfilForm()" [class.form_wight_perfil]="rutaText"
            [class.form_wight_perfil_phone]="!rutaText">
            <h4>Perfil</h4>

            <div class="input-group has-validation div_login">
                <span class="input-group-text span_login" [class.is-invalid]="!perfilForm().value.nombre">
                    <span class="material-symbols-outlined">person</span>
                </span>
                <div class="form-floating">
                    <input type="text" class="form-control" [class.is-invalid]="!perfilForm().value.nombre"
                        placeholder="Nombre" formControlName="nombre">
                    <label for="nombre">Nombre</label>
                </div>
                <div class="invalid-feedback" *ngIf="!perfilForm().value.nombre">
                    Complete el campo Nombre.
                </div>
            </div>

            <div class="input-group has-validation div_login">
                <span class="input-group-text span_login" [class.is-invalid]="!perfilForm().value.apellido">
                    <span class="material-symbols-outlined">signature</span>
                </span>
                <div class="form-floating">
                    <input type="text" class="form-control" [class.is-invalid]="!perfilForm().value.apellido"
                        placeholder="Apellido" formControlName="apellido">
                    <label for="apellido">Apellido</label>
                </div>
                <div class="invalid-feedback" *ngIf="!perfilForm().value.apellido">
                    Complete el campo Apellido.
                </div>
            </div>


            <div class="input-group has-validation div_login">
                <span class="input-group-text span_login">
                    <span class="material-symbols-outlined">mail</span>
                </span>
                <div class="form-floating" [class.is-invalid]="!perfilForm().value.email">
                    <input type="email" class="form-control" [class.is-invalid]="!perfilForm().value.email"
                        placeholder="Correo Electrónico" formControlName="email">
                    <label for="email">Correo Electrónico</label>
                </div>
                <div class="invalid-feedback">
                    Complete el campo Correo.
                </div>
            </div>

            <div class="d-flex pword_div">
                <label class="switch">
                    <input type="checkbox" id="myCheckboxpassword">
                    <span class="slider round"></span>
                </label>
                <p class="pword_text">Cambiar Contraseña</p>
            </div>

            <div class="input-group has-validation div_login">
                <span class="input-group-text span_login">
                    <span class="material-symbols-outlined">lock_open</span>
                </span>
                <div class="form-floating"
                    [class.is-invalid]="!null && (perfilForm().value.password1 !== perfilForm().value.password2)">
                    <input type="password" class="form-control"
                        [class.is-invalid]="!null && (perfilForm().value.password1 !== perfilForm().value.password2)"
                        placeholder="Contraseña" formControlName="password1">
                    <label for="password1">Contraseña</label>
                </div>
                <div class="invalid-feedback"
                    *ngIf="!null && (perfilForm().value.password1 !== perfilForm().value.password2)">
                    Ingresar contraseña válida.
                </div>
            </div>

            <div class="input-group has-validation div_login">
                <span class="input-group-text span_login">
                    <span class="material-symbols-outlined">lock</span>
                </span>
                <div class="form-floating"
                    [class.is-invalid]="!null && (perfilForm().value.password1 !== perfilForm().value.password2)">
                    <input type="password" class="form-control"
                        [class.is-invalid]="!null && (perfilForm().value.password1 !== perfilForm().value.password2)"
                        placeholder="Repetir Contraseña" formControlName="password2">
                    <label for="password2">Repetir Contraseña</label>
                </div>
                <div class="invalid-feedback"
                    *ngIf="!null && (perfilForm().value.password1 !== perfilForm().value.password2)">
                    Ingresar contraseña válida.
                </div>
            </div>

            <div class="d-grid gap-2">
                <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#guardarPerfil">
                    Guardar
                </button>
            </div>
        </form>
    </div>
</div>
<div class="modal fade" tabindex="-1" id="guardarPerfil">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Editar Perfil</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>¿Está seguro de que desea editar su perfil?</p>
            </div>
            <div class="modal-footer modalguardar">
                <button type="button" class="btn btn-danger " data-bs-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-primary btn_correction" (click)="submit()"
                    data-bs-dismiss="modal">Guardar Cambios</button>
            </div>
        </div>
    </div>
</div>  

<pre>{{ perfilForm().value | json }}</pre>